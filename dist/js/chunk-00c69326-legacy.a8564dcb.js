(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00c69326"],{"313e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"access-user-page"},[n("div",[n("content-frame",[n("el-row",{staticStyle:{background:"#fff",padding:"14px 24px"}},[n("el-col",{attrs:{span:24,align:"end",justify:"end"}},[n("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.createPromotion}},[t._v("发起晋升")])],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableData}},[n("el-table-column",{attrs:{prop:"name",label:"晋升名称","min-width":"110px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"text",on:{click:function(n){return t.promotionName(e.row)}}},[t._v(" "+t._s(e.row.name)+" ")])]}}])}),n("el-table-column",{attrs:{prop:"month",label:"晋升月份"}}),n("el-table-column",{attrs:{prop:"apply_start_time",label:"申报开始时间",width:"160"}}),n("el-table-column",{attrs:{prop:"apply_end_time",label:"申报结束时间",width:"160"}}),n("el-table-column",{attrs:{prop:"promotion_end_time",label:"晋升结束时间",width:"160"}}),n("el-table-column",{attrs:{prop:"creator_name",label:"创建人"}}),n("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"160"}}),n("el-table-column",{attrs:{width:"150px",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.defaltPromotion(e.row)}}},[t._v("查看")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.editPromotion(e.row)}}},[t._v("修改")]),n("el-button",{attrs:{type:"text",size:"small",disabled:!e.row.can_delete},on:{click:function(n){return t.deletePromotion(e.row)}}},[t._v("删除")])]}}])})],1),n("br"),n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.constants.PAGINATION_SIZE_ENUM,"page-size":t.pageSize,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)],1)],1)])},r=[],o=(n("d3b7"),n("fea5")),i=n("c9f1"),c=n("9cdc"),s={mixins:[c["a"]],data:function(){return{tableListAPI:o["t"]}},methods:{getBaseParams:function(){return{page:this.currentPage,per_page:this.pageSize}},deletePromotion:function(t){var e=this;this.showConfirm("确定要删除这条晋升?").then((function(){Object(o["a"])(t.id).then((function(t){e.$message({message:"删除成功!",type:"success"}),e.getTableList()}))})).catch((function(){}))},defaltPromotion:function(t){this.$router.push({path:i["g"],query:{id:t.id}})},createPromotion:function(){this.$router.push(Object(i["k"])("add"))},editPromotion:function(t){this.$router.push(Object(i["l"])("edit",t.id))},promotionName:function(t){this.$router.push({path:i["g"],query:{id:t.id}})}},components:{"content-frame":function(){return n.e("chunk-76173720").then(n.bind(null,"fc5c"))}},created:function(){this.getTableList()}},l=s,u=(n("f02b"),n("2877")),p=Object(u["a"])(l,a,r,!1,null,"54f445f8",null);e["default"]=p.exports},"35de":function(t,e,n){},"9cdc":function(t,e,n){"use strict";n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");var a=n("ade3"),r=n("38fb");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e["a"]={data:function(){return{pageSize:20,currentPage:1,total:0,tableData:[],constants:{PAGINATION_SIZE_ENUM:r["t"]}}},methods:{handleCurrentChange:function(t){this.getTableList(i({},this.getBaseParams(),{page:t}))},handleSizeChange:function(t){this.pageSize=t,this.currentPage=1,this.getTableList(i({},this.getBaseParams(),{per_page:t,page:1}))},getTableList:function(t){var e=this;this.startLoading(),this.tableListAPI(t).then((function(t){var n=t.data,a=t.total;e.tableData=n,e.total=a,e.stopLoading()}))}}}},f02b:function(t,e,n){"use strict";var a=n("35de"),r=n.n(a);r.a}}]);