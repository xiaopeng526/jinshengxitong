(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00c69326"],{"313e":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"access-user-page"},[a("div",[a("content-frame",[a("el-row",{staticStyle:{background:"#fff",padding:"14px 24px"}},[a("el-col",{attrs:{span:24,align:"end",justify:"end"}},[a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.createPromotion}},[t._v("发起晋升")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"晋升名称","min-width":"110px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text",on:{click:function(a){return t.promotionName(e.row)}}},[t._v(" "+t._s(e.row.name)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"month",label:"晋升月份"}}),a("el-table-column",{attrs:{prop:"apply_start_time",label:"申报开始时间",width:"160"}}),a("el-table-column",{attrs:{prop:"apply_end_time",label:"申报结束时间",width:"160"}}),a("el-table-column",{attrs:{prop:"promotion_end_time",label:"晋升结束时间",width:"160"}}),a("el-table-column",{attrs:{prop:"creator_name",label:"创建人"}}),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"160"}}),a("el-table-column",{attrs:{width:"150px",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.defaltPromotion(e.row)}}},[t._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.editPromotion(e.row)}}},[t._v("修改")]),a("el-button",{attrs:{type:"text",size:"small",disabled:!e.row.can_delete},on:{click:function(a){return t.deletePromotion(e.row)}}},[t._v("删除")])]}}])})],1),a("br"),a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.constants.PAGINATION_SIZE_ENUM,"page-size":t.pageSize,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)],1)],1)])},n=[],o=(a("e6cf"),a("fea5")),s=a("c9f1"),i=a("9cdc"),l={mixins:[i["a"]],data(){return{tableListAPI:o["t"]}},methods:{getBaseParams(){return{page:this.currentPage,per_page:this.pageSize}},deletePromotion(t){this.showConfirm("确定要删除这条晋升?").then(()=>{Object(o["a"])(t.id).then(t=>{this.$message({message:"删除成功!",type:"success"}),this.getTableList()})}).catch(()=>{})},defaltPromotion(t){this.$router.push({path:s["g"],query:{id:t.id}})},createPromotion(){this.$router.push(Object(s["k"])("add"))},editPromotion(t){this.$router.push(Object(s["l"])("edit",t.id))},promotionName(t){this.$router.push({path:s["g"],query:{id:t.id}})}},components:{"content-frame":()=>a.e("chunk-76173720").then(a.bind(null,"fc5c"))},created(){this.getTableList()}},c=l,u=(a("f02b"),a("2877")),p=Object(u["a"])(c,r,n,!1,null,"54f445f8",null);e["default"]=p.exports},"35de":function(t,e,a){},"9cdc":function(t,e,a){"use strict";var r=a("ade3"),n=a("38fb");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e["a"]={data(){return{pageSize:20,currentPage:1,total:0,tableData:[],constants:{PAGINATION_SIZE_ENUM:n["t"]}}},methods:{handleCurrentChange(t){this.getTableList(s({},this.getBaseParams(),{page:t}))},handleSizeChange(t){this.pageSize=t,this.currentPage=1,this.getTableList(s({},this.getBaseParams(),{per_page:t,page:1}))},getTableList(t){this.startLoading(),this.tableListAPI(t).then(t=>{var{data:e,total:a}=t;this.tableData=e,this.total=a,this.stopLoading()})}}}},f02b:function(t,e,a){"use strict";var r=a("35de"),n=a.n(r);n.a}}]);