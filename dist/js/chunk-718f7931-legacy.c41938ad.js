(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-718f7931"],{1725:function(e,t,r){},"216b":function(e,t,r){"use strict";var o=r("1725"),n=r.n(o);n.a},"9cdc":function(e,t,r){"use strict";r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var o=r("ade3"),n=r("38fb");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t["a"]={data:function(){return{pageSize:20,currentPage:1,total:0,tableData:[],constants:{PAGINATION_SIZE_ENUM:n["t"]}}},methods:{handleCurrentChange:function(e){this.getTableList(i({},this.getBaseParams(),{page:e}))},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.getTableList(i({},this.getBaseParams(),{per_page:e,page:1}))},getTableList:function(e){var t=this;this.startLoading(),this.tableListAPI(e).then((function(e){var r=e.data,o=e.total;t.tableData=r,t.total=o,t.stopLoading()}))}}}},a10a:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"team-list-page"},[r("content-frame",[r("el-form",{ref:"filterForm",staticStyle:{background:"#fff",padding:"24px"},attrs:{model:e.filterForm,inline:!0}},[r("el-form-item",{attrs:{prop:"workcode",label:"工号："}},[r("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入工号"},model:{value:e.filterForm.workcode,callback:function(t){e.$set(e.filterForm,"workcode",t)},expression:"filterForm.workcode"}})],1),r("el-form-item",{attrs:{prop:"name",label:"姓名："}},[r("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入姓名"},model:{value:e.filterForm.name,callback:function(t){e.$set(e.filterForm,"name",t)},expression:"filterForm.name"}})],1),r("el-form-item",{attrs:{prop:"level",label:"现职级:"}},[r("el-select",{attrs:{"collapse-tags":"",placeholder:"现职级",multiple:""},model:{value:e.filterForm.level,callback:function(t){e.$set(e.filterForm,"level",t)},expression:"filterForm.level"}},e._l(e.levels,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),r("el-form-item",{staticStyle:{"margin-left":"30px"}},[r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("filterForm")}}},[e._v("查询")]),r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],on:{click:function(t){return e.resetForm("filterForm")}}},[e._v("重置")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.tableData}},[r("el-table-column",{attrs:{prop:"workcode",width:"100",label:"工号"}}),r("el-table-column",{attrs:{width:"100",prop:"name",label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"text",attrs:{disabled:!0},on:{click:function(r){return e.goToDetail(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),e._l(e.tableColumns,(function(e){return r("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label}})})),r("el-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_apply?r("el-button",{attrs:{disabled:t.row.is_apply,type:"text",size:"small"}},[e._v("已提报")]):r("el-button",{attrs:{disabled:!t.row.can_apply,type:"text",size:"small"},nativeOn:{click:function(r){return r.preventDefault(),e.showReportDialog(t.row)}}},[e._v(e._s(e.getButtonText(t.row)))])]}}])})],2),r("br"),r("el-row",{attrs:{type:"flex",justify:"end"}},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.constants.PAGINATION_SIZE_ENUM,"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1),r("el-drawer",{attrs:{title:"晋升提报",visible:e.showPromotionReportDialog,direction:"rtl",size:"500px"},on:{"update:visible":function(t){e.showPromotionReportDialog=t}}},[e.showPromotionReportDialog?r("promotion-report-dialog",{attrs:{visible:e.showPromotionReportDialog,data:e.promotionData},on:{"update:visible":function(t){e.showPromotionReportDialog=t},refresh:e.refresh}}):e._e()],1)],1)},n=[],a=(r("a4d3"),r("4de4"),r("4160"),r("b0c0"),r("dca8"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("ade3")),i=r("fea5"),l=r("c9f1"),s=r("9cdc");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={mixins:[s["a"]],data:function(){return{filterForm:{workcode:"",name:"",level:[]},tableColumns:Object.freeze([{prop:"department_name",label:"部门"},{prop:"level",label:"现职级"},{prop:"level_experience_time",label:"历练时间"},{prop:"satisfy_level_experience_time",label:"历练满足时间"},{prop:"rejoined_on",label:"入司时间"},{prop:"this_level_on",label:"上次晋升时间"}]),levels:[],showPromotionReportDialog:!1,promotionData:{},tableListAPI:i["y"]}},methods:{goToDetail:function(e){this.$router.push(Object(l["j"])("basis",e.workcode))},getTeamLevel:function(){var e=this;Object(i["x"])().then((function(t){e.levels=t}))},submitForm:function(){this.currentPage=1,this.$nextTick((function(){this.getTableList(p({},this.getBaseParams(),{page:1}))}))},resetForm:function(e){this.$refs[e].resetFields(),this.currentPage=1,this.$nextTick((function(){this.refresh()}))},refresh:function(){this.getTableList(this.getBaseParams())},getBaseParams:function(){return{page:this.currentPage,workcode:this.filterForm.workcode,level:this.filterForm.level,name:this.filterForm.name,per_page:this.pageSize}},showReportDialog:function(e){this.showPromotionReportDialog=!0,this.promotionData=e},getButtonText:function(e){return e.can_apply?"晋升提报":e.is_apply?"已提报":"暂无有提报资格的晋升任务"}},components:{"content-frame":function(){return r.e("chunk-76173720").then(r.bind(null,"fc5c"))},"promotion-report-dialog":function(){return r.e("chunk-2e0aa5e5").then(r.bind(null,"8a67"))}},created:function(){this.getTeamLevel(),this.refresh()}},f=u,b=(r("216b"),r("2877")),m=Object(b["a"])(f,o,n,!1,null,"84d2303a",null);t["default"]=m.exports},b0c0:function(e,t,r){var o=r("83ab"),n=r("9bf2").f,a=Function.prototype,i=a.toString,l=/^\s*function ([^ (]*)/,s="name";!o||s in a||n(a,s,{configurable:!0,get:function(){try{return i.call(this).match(l)[1]}catch(e){return""}}})},dca8:function(e,t,r){var o=r("23e7"),n=r("bb2f"),a=r("d039"),i=r("861d"),l=r("f183").onFreeze,s=Object.freeze,c=a((function(){s(1)}));o({target:"Object",stat:!0,forced:c,sham:!n},{freeze:function(e){return s&&i(e)?s(l(e)):e}})}}]);